# Редактор векторной графики

Проект представляет собой интерактивный редактор векторных фигур с расширенными возможностями для создания, редактирования и манипулирования геометрическими объектами.

## Основные возможности

### Создание фигур
- Поддержка различных типов фигур: треугольники, квадраты, пятиугольники, шестиугольники, семиугольники, восьмиугольники
- Произвольные многоугольники с настраиваемым количеством сторон (3-20)
- Настройка размеров (ширина и высота) для каждой фигуры

### Редактирование фигур
- **Режим "Объект"**:
  - Перемещение фигур по холсту
  - Вращение фигур с помощью кругового маркера
  - Масштабирование фигур
  - Изменение ширины и высоты фигур
  - Ограниченное перемещение по осям X и Y
  - Сброс трансформаций

- **Режим "Редактировать"**:
  - Редактирование отдельных вершин фигур
  - Добавление и удаление вершин
  - Редактирование длин рёбер
  - Сброс вершин к правильному многоугольнику

### Интерактивные возможности
- Визуальные маркеры для трансформаций
- Подсветка выбранных вершин и рёбер
- Интуитивное перетаскивание элементов
- Поддержка горячих клавиш

### Настройки и параметры
- **Системные настройки**:
  - Включение/отключение сетки координат
  - Глобальное управление столкновениями

- **Параметры фигур**:
  - Настройка цвета фигуры
  - Включение/отключение столкновений для конкретной фигуры
  - Управление видимостью фигур
  - Задание имени фигуры

### Система столкновений
- Реализация физики столкновений между фигурами
- Автоматическое разрешение коллизий
- Возможность отключения столкновений для отдельных фигур
- Настраиваемая обработка перекрытий

## Структура проекта

### Основные файлы:

1. **shape.h / shape.cpp** - класс `Shape`
   - Представляет геометрическую фигуру
   - Управление вершинами, трансформациями
   - Реализация столкновений (метод разделяющих осей)
   - Преобразования координат (локальные ↔ мировые)

2. **vkcanvas.h / vkcanvas.cpp** - класс `VKCanvas`
   - Основной холст для отображения фигур
   - Обработка пользовательского ввода (мышь, колесо прокрутки)
   - Визуализация фигур и интерфейсных элементов
   - Управление состоянием приложения

3. **main.cpp** - точка входа приложения
   - Инициализация QML-движка
   - Регистрация C++ классов в QML

4. **Main.qml** - пользовательский интерфейс
   - Панель создания фигур
   - Панель свойств объектов
   - Таблицы вершин и рёбер
   - Статусная строка

## Особенности реализации

### Технологический стек:
- **Qt 6** с использованием QML для интерфейса
- **C++17** для бизнес-логики
- **Scene Graph** для высокопроизводительной графики
- **Qt Quick Controls 2** для современных UI-компонентов

### Ключевые алгоритмы:
- **Метод разделяющих осей (SAT)** для обнаружения столкновений
- **Алгоритмы геометрических преобразований** (вращение, масштабирование)
- **Интерполяция вершин** для редактирования многоугольников
- **Обработка координат** между различными системами (экранные, мировые, локальные)

### Производительность:
- Оптимизированная отрисовка через Scene Graph
- Минимальные перерисовки при изменениях
- Эффективное управление памятью

## Управление

### Основные взаимодействия:
- **Левая кнопка мыши**:
  - Выбор и перемещение фигур
  - Перетаскивание вершин и рёбер
  - Использование маркеров трансформации

- **Правая кнопка мыши**: Панорамирование холста
- **Средняя кнопка мыши**: Сброс вида
- **Колесо прокрутки**: Масштабирование

## Интерфейс

### Панель управления:
- **Левая панель**: Создание фигур и общие настройки
- **Правая панель**: Свойства выбранной фигуры
  - Вкладка "Объект": Основные параметры и трансформации
  - Вкладка "Редактировать": Детальное управление вершинами и рёбрами

### Статусная строка:
- Количество фигур на сцене
- ID выбранной фигуры
- Количество вершин
- Текущий режим работы
- Масштаб холста
- Координаты смещения
- Цвет выбранной фигуры

## Структура файлов проекта

```
paintShape/
├── shape.h/cpp         # Класс геометрической фигуры
├── vkcanvas.h/cpp      # Класс холста и визуализации
├── main.cpp            # Точка входа приложения
├── Main.qml            # Пользовательский интерфейс
├── paintShape.pro      # Файл проекта для qmake
└── README.md           # Документация
```

## Назначение проекта

Проект предназначен для:
- Образовательных целей (изучение геометрических преобразований)
- Прототипирования векторных интерфейсов
- Тестирования алгоритмов столкновений
- Создания простых векторных иллюстраций

## Возможности расширения

Проект имеет модульную архитектуру, позволяющую легко добавлять:
- Новые типы фигур
- Дополнительные трансформации
- Экспорт/импорт в различные форматы
- Группировку объектов
- Слои и z-порядок
- Анимации и эффекты

## Разработка

Проект демонстрирует:
- Взаимодействие C++ и QML
- Создание кастомных QML-компонентов
- Эффективную работу с графикой в Qt
- Современные подходы к проектированию GUI-приложений
